!function(){"use strict";function e(t,n){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,n)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,a=i(e);if(t){var o=i(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return n(this,r)}}function n(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(self.webpackChunkseb_ng_wizard_app=self.webpackChunkseb_ng_wizard_app||[]).push([[694],{1694:function(n,i,a){a.r(i),a.d(i,{FormAndRouteGuardModule:function(){return ke}});var s=a(8583),c=a(2269),u=a(1948),l=a(1558),f=a(3679),d=a(9765),p=a(5435),m=a(2743),g=a(3342),v=a(5345);function h(e){return function(t){return t.lift(new y(e))}}var b,y=function(){function e(t){r(this,e),this.notifier=t}return o(e,[{key:"call",value:function(e,t){var n=new x(e),i=(0,v.ft)(this.notifier,new v.IY(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}]),e}(),x=function(n){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(a,n);var i=t(a);function a(e){var t;return r(this,a),(t=i.call(this,e)).seenValue=!1,t}return o(a,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),a}(v.Ds),Z=a(3018),k=a(6215),_=a(5917),w=a(3190),T=a(8002),A=a(9499),q=((b=function(){function e(t,n){r(this,e),this.wizardSteps=t,this.router=n,this.steps$=new k.X({})}return o(e,[{key:"saveState",value:function(e,t){var n,i,r;this.steps$.next(Object.assign(Object.assign({},this.steps$.getValue()),(n={},i=this.wizardSteps.activeStep.id,r={data:t,state:e,id:this.wizardSteps.activeStep.id},i in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n))),this.wizardSteps.setState(e)}},{key:"getRoute",value:function(e,t){var n=this;return this.wizardSteps.steps$.pipe((0,p.h)(function(e){return Object.values(e).length>0}),(0,w.w)(function(e){return n.wizardSteps.getPreviousStep(t).pipe((0,T.U)(function(t){return"success"===t.data.state||"info"===t.data.state||n.router.parseUrl("/form-and-route-guard/".concat(Object.values(e).reduce(function(e,t){return t.data.state&&t.data.number>e.data.number?t:e},Object.values(e).find(function(e){return 1===e.data.number})).path))}))}))}},{key:"getState",value:function(){return this.wizardSteps.steps$.pipe((0,p.h)(function(e){return Object.values(e).length>0}),(0,A.c)((0,_.of)(this.steps$.getValue()[this.wizardSteps.activeStep.id])))}}]),e}()).\u0275fac=function(e){return new(e||b)(Z.LFG(c.V9),Z.LFG(l.F0))},b.\u0275prov=Z.Yz7({token:b,factory:b.\u0275fac}),b);function N(e,t){1&e&&(Z.ynx(0),Z._uU(1,"The form contains error, you need to correct them before proceeding."),Z.BQk())}function F(e,t){1&e&&(Z.ynx(0),Z._uU(1,"You need to save the information before continuing to the next step."),Z.BQk())}function U(e,t){if(1&e&&(Z.TgZ(0,"div",10),Z.YNc(1,N,2,0,"ng-container",0),Z.YNc(2,F,2,0,"ng-container",0),Z.qZA()),2&e){var n=Z.oxw(2);Z.xp6(1),Z.Q6J("ngIf",n.accountDetailsForm.invalid||n.accountDetailsForm.pending),Z.xp6(1),Z.Q6J("ngIf",n.accountDetailsForm.valid)}}function I(e,t){1&e&&(Z.ynx(0),Z._uU(1,"You're profile was successfully saved!"),Z.BQk())}function Q(e,t){if(1&e&&(Z.TgZ(0,"div",11),Z.YNc(1,I,2,0,"ng-container",0),Z.qZA()),2&e){var n=Z.oxw(2);Z.xp6(1),Z.Q6J("ngIf",n.accountDetailsForm.valid)}}function S(e,t){if(1&e&&(Z.ynx(0),Z.YNc(1,U,3,2,"div",8),Z.YNc(2,Q,2,1,"div",9),Z.BQk()),2&e){var n=t.ngIf,i=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",!n.isOk&&i.submitted),Z.xp6(1),Z.Q6J("ngIf",n.isOk&&i.submitted&&i.accountDetailsForm.valid)}}function Y(e,t){if(1&e&&(Z.TgZ(0,"div",12),Z.TgZ(1,"div",13),Z._UZ(2,"input",14),Z.TgZ(3,"label",15),Z._uU(4),Z.qZA(),Z.qZA(),Z.qZA()),2&e){var n=t.$implicit,i=t.index;Z.xp6(2),Z.Q6J("value",n.name),Z.uIk("id","accountTypeOption_"+i),Z.xp6(1),Z.Q6J("for","accountTypeOption_"+i),Z.xp6(1),Z.Oqu(n.name)}}function J(e,t){1&e&&(Z.TgZ(0,"p",16),Z._uU(1," Error text "),Z.qZA())}var C=function(e){return{isOk:e}},O=function(e){return{"border rounded px-3 pt-3":e}},B=function(){var e=function(){function e(t,n,i,a,o){var s=this;r(this,e),this.stepService=t,this.fb=n,this.controls=i,this.el=a,this.wizardSteps=o,this.unsubscribe$=new d.xQ,this.submitted=!1,this.accountTypes=[{name:"Investeringssparkkonto (ISK)"},{name:"Kaptialf\xf6rs\xe4kring (KF)"},{name:"V\xe4rdepappersdep\xe5"}],this.stepStatus$=this.stepService.getState().pipe((0,p.h)(function(e){return e&&e.data}),(0,m.x)(),(0,g.b)(function(e){return s.accountDetailsForm.setValue(e.data)})),this.accountDetailsForm=n.group({accountType:n.control(null,[f.kI.required])})}return o(e,[{key:"firstName",get:function(){return this.accountDetailsForm.get("firstName")}},{key:"lastName",get:function(){return this.accountDetailsForm.get("lastName")}},{key:"email",get:function(){return this.accountDetailsForm.get("email")}},{key:"accept",get:function(){return this.accountDetailsForm.get("accept")}},{key:"accountType",get:function(){return this.accountDetailsForm.get("accountType")}},{key:"save",value:function(){this.stepService.saveState(this.accountDetailsForm.valid?"success":"danger",this.accountDetailsForm.value),this.wizardSteps.updateSubSteps("Investeringssparkkonto (ISK)"===this.accountDetailsForm.value.accountType?["kyc"]:[])}},{key:"_focusInvalid",value:function(){var e=this;if(this.accountDetailsForm.invalid){var t=Object.keys(this.accountDetailsForm.controls).find(function(t){return e.accountDetailsForm.controls[t].invalid});t&&this.el.nativeElement.querySelector('[formcontrolname="'+t+'"]').focus()}else{var n=this.el.nativeElement.querySelector(".alert.alert-danger");n&&n.focus()}}},{key:"ngOnInit",value:function(){var e=this;this.accountDetailsForm.valueChanges.pipe(h(this.unsubscribe$)).subscribe(function(t){return e.save()}),this.controls.controlEvent$.pipe(h(this.unsubscribe$)).subscribe(function(t){switch(t.type){case"next":e.submitted=!0,e.accountDetailsForm.markAllAsTouched(),e._focusInvalid(),e.save();break;case"cancel":e.accountDetailsForm.reset(),e.stepService.saveState(null,e.accountDetailsForm.value),e.submitted=!1}})}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Z.Y36(q),Z.Y36(f.qu),Z.Y36(c.ko),Z.Y36(Z.SBq),Z.Y36(c.V9))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-account-details-index"]],decls:10,vars:17,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-12","col-sm-auto"],[1,"col-form-label"],[3,"ngClass"],["class","form-group",4,"ngFor","ngForOf"],["class","small text-danger mt-1",4,"ngIf"],["class","alert alert-danger alert-icon mx-n3 mx-sm-0","tabindex","-1",4,"ngIf"],["class","alert alert-success alert-icon mx-n3 mx-sm-0",4,"ngIf"],["tabindex","-1",1,"alert","alert-danger","alert-icon","mx-n3","mx-sm-0"],[1,"alert","alert-success","alert-icon","mx-n3","mx-sm-0"],[1,"form-group"],[1,"custom-control","custom-radio"],["type","radio","formControlName","accountType",1,"custom-control-input",3,"value"],[1,"custom-control-label",3,"for"],[1,"small","text-danger","mt-1"]],template:function(e,t){var n;(1&e&&(Z.YNc(0,S,3,2,"ng-container",0),Z.ALo(1,"async"),Z.TgZ(2,"form",1),Z.NdJ("ngSubmit",function(){return t.save()}),Z.TgZ(3,"div",2),Z.TgZ(4,"div",3),Z.TgZ(5,"label",4),Z._uU(6,"Type of account"),Z.qZA(),Z.TgZ(7,"div",5),Z.YNc(8,Y,5,4,"div",6),Z.qZA(),Z.YNc(9,J,2,0,"p",7),Z.qZA(),Z.qZA(),Z.qZA()),2&e)&&(Z.Q6J("ngIf",Z.VKq(13,C,"success"===(null==(n=Z.lcZ(1,11,t.stepStatus$))?null:n.state))),Z.xp6(2),Z.Q6J("formGroup",t.accountDetailsForm),Z.xp6(5),Z.ekj("border-danger",t.accountDetailsForm.invalid&&t.submitted)("border-success",t.accountDetailsForm.valid&&t.submitted)("mb-3",t.accountDetailsForm.valid&&t.submitted),Z.Q6J("ngClass",Z.VKq(15,O,t.accountDetailsForm&&t.submitted)),Z.xp6(1),Z.Q6J("ngForOf",t.accountTypes),Z.xp6(1),Z.Q6J("ngIf",t.submitted&&t.accountDetailsForm.invalid))},directives:[s.O5,f._Y,f.JL,f.sg,s.mk,s.sg,f._,f.Fj,f.JJ,f.u],pipes:[s.Ov],encapsulation:2}),e}(),D=function(){var e=function e(){r(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-account-details"]],decls:1,vars:0,template:function(e,t){1&e&&Z._UZ(0,"router-outlet")},directives:[l.lC],encapsulation:2}),e}(),$=function(){var e=function(){function e(){r(this,e)}return o(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-kyc"]],decls:4,vars:0,consts:[[1,"lead"]],template:function(e,t){1&e&&(Z.TgZ(0,"p",0),Z._uU(1,"This sub step is added dynamically when needed and could contain some fancy KYC from."),Z.qZA(),Z.TgZ(2,"p"),Z._uU(3," We'll leave this part to you're imagination. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam vehicula ex in mauris finibus finibus. Proin id dui eget risus euismod varius sed sit amet augue.\n"),Z.qZA())},encapsulation:2}),e}(),z=function(){var e=function(){function e(){r(this,e)}return o(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-confirmation"]],decls:6,vars:0,consts:[[1,"alert","alert-success","alert-icon"],[1,"alert-heading"]],template:function(e,t){1&e&&(Z.TgZ(0,"div",0),Z.TgZ(1,"h4",1),Z._uU(2,"Congratulations!"),Z.qZA(),Z._uU(3," This is just a dummy placeholder and this design will be updated.\n"),Z.qZA(),Z.TgZ(4,"p"),Z._uU(5," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam vehicula ex in mauris finibus finibus. Proin id dui eget risus euismod varius sed sit amet augue.\n"),Z.qZA())},encapsulation:2}),e}(),j=function(){var e=function(){function e(t,n,i){r(this,e),this.controls=t,this.stepService=n,this.router=i,this.unsubscribe$=new d.xQ}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.router.events.pipe((0,p.h)(function(e){return e instanceof l.OD}),h(this.unsubscribe$)).subscribe(function(t){return e.stepService.saveState("success")})}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Z.Y36(c.ko),Z.Y36(q),Z.Y36(l.F0))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-introduction"]],decls:18,vars:0,consts:[[1,"lead"],["href","https://angular.io/api/router/CanActivate","target","_blank",1,"external"],["href","https://angular.io/api/forms/FormBuilder","target","_blank",1,"external"],["href","https://angular.io/guide/reactive-forms","target","_blank",1,"external"],["href","https://github.com/sebgroup/ng-wizard/tree/master/projects/seb-ng-wizard-lazy-demo/src/app/form-and-route-guard","target","_parent",1,"external"]],template:function(e,t){1&e&&(Z.TgZ(0,"p",0),Z._uU(1," Wizards are generally used when we need to gather information that can be divided into steps or when we want guide the user through a process ie. KYC and AML, application for new service etc.\n"),Z.qZA(),Z.TgZ(2,"p"),Z._uU(3," Basic concept for this component built for Angular, involves using a route guard with "),Z.TgZ(4,"a",1),Z._uU(5,"CanActivate"),Z.qZA(),Z._uU(6," to prevent navigation to a specific route. In this example we're going to use a simple service to store the form data which in turn will be used by the route guard to determine if navigation is allowed or not. We're also going to implement form validation to make sure the information we enter is valid before storing it in our service.\n"),Z.qZA(),Z.TgZ(7,"p"),Z._uU(8," There are many ways to set up a form in angular, this example uses "),Z.TgZ(9,"a",2),Z._uU(10,"Form Builder"),Z.qZA(),Z._uU(11," and "),Z.TgZ(12,"a",3),Z._uU(13,"Reactive Forms"),Z.qZA(),Z._uU(14," which provides a model-driven approach for forms. Feel free to use whatever you like and whatever suits your needs, the complete code with comments for this example can be found "),Z.TgZ(15,"a",4),Z._uU(16,"in github"),Z.qZA(),Z._uU(17,".\n"),Z.qZA())},encapsulation:2}),e}(),E=a(9577);function L(e,t){1&e&&(Z.ynx(0),Z._uU(1,"The form contains error, you need to correct them before proceeding."),Z.BQk())}function V(e,t){1&e&&(Z.ynx(0),Z._uU(1,"You need to save the information before continuing to the next step."),Z.BQk())}function P(e,t){if(1&e&&(Z.TgZ(0,"div",32),Z.YNc(1,L,2,0,"ng-container",0),Z.YNc(2,V,2,0,"ng-container",0),Z.qZA()),2&e){var n=Z.oxw(2);Z.xp6(1),Z.Q6J("ngIf",n.profileForm.invalid||n.profileForm.pending),Z.xp6(1),Z.Q6J("ngIf",n.profileForm.valid)}}function R(e,t){1&e&&(Z.ynx(0),Z._uU(1,"You're profile was successfully saved!"),Z.BQk())}function W(e,t){if(1&e&&(Z.TgZ(0,"div",33),Z.YNc(1,R,2,0,"ng-container",0),Z.qZA()),2&e){var n=Z.oxw(2);Z.xp6(1),Z.Q6J("ngIf",n.profileForm.valid)}}function K(e,t){if(1&e&&(Z.ynx(0),Z.YNc(1,P,3,2,"div",30),Z.YNc(2,W,2,1,"div",31),Z.BQk()),2&e){var n=t.ngIf,i=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",!n.isOk&&i.submitted),Z.xp6(1),Z.Q6J("ngIf",n.isOk&&i.submitted&&i.profileForm.valid)}}function G(e,t){1&e&&(Z.ynx(0),Z._UZ(1,"fa-icon",34),Z._uU(2,"This field can't be empty"),Z.BQk())}function X(e,t){1&e&&(Z.ynx(0),Z._UZ(1,"fa-icon",35),Z._uU(2,"Field is valid"),Z.BQk())}var M=function(e,t){return{"invalid-feedback":e,"valid-feedback":t}};function H(e,t){if(1&e&&(Z.TgZ(0,"div",26),Z.YNc(1,G,3,0,"ng-container",0),Z.YNc(2,X,3,0,"ng-container",0),Z.qZA()),2&e){var n=Z.oxw();Z.Q6J("ngClass",Z.WLB(3,M,n.firstName.invalid,n.firstName.valid)),Z.xp6(1),Z.Q6J("ngIf",null==n.firstName.errors?null:n.firstName.errors.required),Z.xp6(1),Z.Q6J("ngIf",n.firstName.valid)}}function ee(e,t){1&e&&(Z.ynx(0),Z._UZ(1,"fa-icon",34),Z._uU(2,"This field can't be empty"),Z.BQk())}function te(e,t){1&e&&(Z.ynx(0),Z._UZ(1,"fa-icon",35),Z._uU(2,"Field is valid"),Z.BQk())}function ne(e,t){if(1&e&&(Z.TgZ(0,"div",26),Z.YNc(1,ee,3,0,"ng-container",0),Z.YNc(2,te,3,0,"ng-container",0),Z.qZA()),2&e){var n=Z.oxw();Z.Q6J("ngClass",Z.WLB(3,M,n.lastName.invalid,n.lastName.valid)),Z.xp6(1),Z.Q6J("ngIf",null==n.lastName.errors?null:n.lastName.errors.required),Z.xp6(1),Z.Q6J("ngIf",n.lastName.valid)}}function ie(e,t){1&e&&(Z.ynx(0),Z._UZ(1,"fa-icon",34),Z._uU(2,"This field can't be empty"),Z.BQk())}function re(e,t){1&e&&(Z.ynx(0),Z._UZ(1,"fa-icon",34),Z._uU(2,"Email address is invalid"),Z.BQk())}function ae(e,t){1&e&&(Z.ynx(0),Z._UZ(1,"fa-icon",34),Z._uU(2,"This email has already been registered"),Z.BQk())}function oe(e,t){1&e&&(Z.ynx(0),Z._UZ(1,"fa-icon",35),Z._uU(2,"Field is valid"),Z.BQk())}function se(e,t){1&e&&(Z.ynx(0),Z._UZ(1,"div",36),Z._uU(2," Validating email"),Z.BQk())}var ce=function(e,t,n){return{"invalid-feedback":e,"valid-feedback":t,"progress-feedback progress-50":n}};function ue(e,t){if(1&e&&(Z.TgZ(0,"div",26),Z.YNc(1,ie,3,0,"ng-container",0),Z.YNc(2,re,3,0,"ng-container",0),Z.YNc(3,ae,3,0,"ng-container",0),Z.YNc(4,oe,3,0,"ng-container",0),Z.YNc(5,se,3,0,"ng-container",0),Z.qZA()),2&e){var n=Z.oxw();Z.Q6J("ngClass",Z.kEZ(6,ce,n.email.invalid,n.email.valid,n.email.pending)),Z.xp6(1),Z.Q6J("ngIf",null==n.email.errors?null:n.email.errors.required),Z.xp6(1),Z.Q6J("ngIf",null==n.email.errors?null:n.email.errors.email),Z.xp6(1),Z.Q6J("ngIf",null==n.email.errors?null:n.email.errors.emailIsTaken),Z.xp6(1),Z.Q6J("ngIf",n.email.valid),Z.xp6(1),Z.Q6J("ngIf",n.email.pending)}}function le(e,t){1&e&&(Z.TgZ(0,"div",39),Z._UZ(1,"fa-icon",34),Z._uU(2,"You need to accept the terms "),Z.qZA())}function fe(e,t){1&e&&(Z.TgZ(0,"div",40),Z._UZ(1,"fa-icon",35),Z._uU(2,"Terms accepted "),Z.qZA())}function de(e,t){if(1&e&&(Z.ynx(0),Z.YNc(1,le,3,0,"div",37),Z.YNc(2,fe,3,0,"div",38),Z.BQk()),2&e){var n=Z.oxw();Z.xp6(1),Z.Q6J("ngIf",n.accept.invalid),Z.xp6(1),Z.Q6J("ngIf",n.accept.valid)}}var pe=function(e){return{isOk:e}},me=function(e,t){return{"is-invalid":e,"is-valid":t}},ge=function(e,t,n){return{"border-danger":e,"border-success":t,"border rounded p-3":n}},ve=function(){var e=function(){function e(t,n,i,a){var o=this;r(this,e),this.stepService=t,this.fb=n,this.controls=i,this.el=a,this.unsubscribe$=new d.xQ,this.submitted=!1,this.stepStatus$=this.stepService.getState().pipe((0,p.h)(function(e){return e&&e.data}),(0,g.b)(function(e){return o.profileForm.setValue(e.data)})),this.profileForm=n.group({firstName:["",f.kI.required],lastName:["",f.kI.required],email:["",[f.kI.required,f.kI.email],this.checkValidEmail],street:[""],extra:[""],city:[""],zip:[""],accept:["",f.kI.requiredTrue],help:[!0]})}return o(e,[{key:"firstName",get:function(){return this.profileForm.get("firstName")}},{key:"lastName",get:function(){return this.profileForm.get("lastName")}},{key:"email",get:function(){return this.profileForm.get("email")}},{key:"accept",get:function(){return this.profileForm.get("accept")}},{key:"help",get:function(){return this.profileForm.get("help")}},{key:"save",value:function(){this.stepService.saveState(this.profileForm.valid?"success":"danger",this.profileForm.value)}},{key:"_focusInvalid",value:function(){var e=this;if(this.profileForm.invalid){var t=Object.keys(this.profileForm.controls).find(function(t){return e.profileForm.controls[t].invalid});t&&this.el.nativeElement.querySelector('[formcontrolname="'+t+'"]').focus()}else{var n=this.el.nativeElement.querySelector(".alert.alert-danger");n&&n.focus()}}},{key:"checkValidEmail",value:function(e){return new Promise(function(t,n){setTimeout(function(){t("john.doe@seb.se"===e.value?{emailIsTaken:!0}:null)},3e3)})}},{key:"ngOnInit",value:function(){var e=this;this.controls.controlEvent$.pipe(h(this.unsubscribe$)).subscribe(function(t){switch(t.type){case"next":e.submitted=!0,e.profileForm.markAllAsTouched(),e._focusInvalid(),e.save();break;case"save":e.submitted=!0,e.profileForm.markAllAsTouched(),e.save(),e._focusInvalid();break;case"cancel":e.profileForm.reset(),e.save(),e.submitted=!1}})}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Z.Y36(q),Z.Y36(f.qu),Z.Y36(c.ko),Z.Y36(Z.SBq))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-personal-details"]],decls:46,vars:31,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-row","mt-3"],[1,"form-group","col-sm-6","col-xl-4"],["for","inputFirstName"],["type","email","id","inputFirstName","formControlName","firstName","required","",1,"form-control",3,"ngClass"],[3,"ngClass",4,"ngIf"],["for","inputLastName"],["type","email","id","inputLastName","formControlName","lastName","required","",1,"form-control",3,"ngClass"],[1,"form-group","col-md","col-xl-8"],["for","inputEmail"],[1,"text-muted"],["type","email","id","inputEmail","formControlName","email","required","","email","",1,"form-control",3,"ngClass"],[1,"form-group","col-xl-8"],["for","inputAddress"],["type","text","id","inputAddress","placeholder","E.g. 1234 Main St","formControlName","street",1,"form-control"],["for","inputAddress2"],["type","text","id","inputAddress2","placeholder","E.g. apartment, studio, or floor","formControlName","extra",1,"form-control"],[1,"form-row"],[1,"form-group","col-auto"],["for","inputZip"],["type","text","id","inputZip","formControlName","zip",1,"form-control",2,"width","100px"],[1,"form-group","col","col-sm-6","col-xl-4"],["for","inputCity"],["type","text","id","inputCity","formControlName","city",1,"form-control"],[1,"form-group","col","col-sm-auto"],[3,"ngClass"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","gridCheck","formControlName","accept","required","",1,"custom-control-input",3,"ngClass"],["for","gridCheck",1,"custom-control-label"],["class","alert alert-danger alert-icon mx-n3 mx-sm-0","tabindex","-1",4,"ngIf"],["class","alert alert-success alert-icon mx-n3 mx-sm-0",4,"ngIf"],["tabindex","-1",1,"alert","alert-danger","alert-icon","mx-n3","mx-sm-0"],[1,"alert","alert-success","alert-icon","mx-n3","mx-sm-0"],["icon","exclamation-triangle",1,"mr-1"],["icon","check-circle",1,"mr-1"],[1,"spinner","spinner-xs","mr-1","d-inline-block",2,"vertical-align","-3px","z-index","0"],["class","small text-danger mt-1 mb-n1",4,"ngIf"],["class","small text-success mt-1 mb-n1",4,"ngIf"],[1,"small","text-danger","mt-1","mb-n1"],[1,"small","text-success","mt-1","mb-n1"]],template:function(e,t){var n;(1&e&&(Z.YNc(0,K,3,2,"ng-container",0),Z.ALo(1,"async"),Z.TgZ(2,"form",1),Z.NdJ("ngSubmit",function(){return t.save()}),Z.TgZ(3,"div",2),Z.TgZ(4,"div",3),Z.TgZ(5,"label",4),Z._uU(6,"First name"),Z.qZA(),Z._UZ(7,"input",5),Z.YNc(8,H,3,6,"div",6),Z.qZA(),Z.TgZ(9,"div",3),Z.TgZ(10,"label",7),Z._uU(11,"Last name"),Z.qZA(),Z._UZ(12,"input",8),Z.YNc(13,ne,3,6,"div",6),Z.qZA(),Z.TgZ(14,"div",9),Z.TgZ(15,"label",10),Z._uU(16,"Email"),Z.qZA(),Z.TgZ(17,"div",11),Z._uU(18,' Enter any email except "john.doe@seb.se". '),Z.qZA(),Z._UZ(19,"input",12),Z.YNc(20,ue,6,10,"div",6),Z.qZA(),Z.TgZ(21,"div",13),Z.TgZ(22,"label",14),Z._uU(23,"Address"),Z.qZA(),Z._UZ(24,"input",15),Z.qZA(),Z.TgZ(25,"div",13),Z.TgZ(26,"label",16),Z._uU(27,"Address 2"),Z.qZA(),Z._UZ(28,"input",17),Z.qZA(),Z.qZA(),Z.TgZ(29,"div",18),Z.TgZ(30,"div",19),Z.TgZ(31,"label",20),Z._uU(32,"Zip"),Z.qZA(),Z._UZ(33,"input",21),Z.qZA(),Z.TgZ(34,"div",22),Z.TgZ(35,"label",23),Z._uU(36,"City"),Z.qZA(),Z._UZ(37,"input",24),Z.qZA(),Z.qZA(),Z.TgZ(38,"div",18),Z.TgZ(39,"div",25),Z.TgZ(40,"div",26),Z.TgZ(41,"div",27),Z._UZ(42,"input",28),Z.TgZ(43,"label",29),Z._uU(44," Accept terms "),Z.qZA(),Z.qZA(),Z.qZA(),Z.YNc(45,de,3,2,"ng-container",0),Z.qZA(),Z.qZA(),Z.qZA()),2&e)&&(Z.Q6J("ngIf",Z.VKq(13,pe,"success"===(null==(n=Z.lcZ(1,11,t.stepStatus$))?null:n.state))),Z.xp6(2),Z.Q6J("formGroup",t.profileForm),Z.xp6(5),Z.Q6J("ngClass",Z.WLB(15,me,t.firstName.invalid&&t.firstName.touched&&t.submitted,t.firstName.valid&&t.submitted)),Z.xp6(1),Z.Q6J("ngIf",(t.firstName.dirty||t.firstName.touched)&&t.submitted),Z.xp6(4),Z.Q6J("ngClass",Z.WLB(18,me,t.lastName.invalid&&t.lastName.touched&&t.submitted,t.lastName.valid&&t.submitted)),Z.xp6(1),Z.Q6J("ngIf",(t.lastName.dirty||t.lastName.touched)&&t.submitted),Z.xp6(6),Z.Q6J("ngClass",Z.WLB(21,me,t.email.invalid&&t.email.touched&&t.submitted,t.email.valid&&t.submitted)),Z.xp6(1),Z.Q6J("ngIf",(t.email.dirty||t.email.touched)&&t.submitted),Z.xp6(20),Z.Q6J("ngClass",Z.kEZ(24,ge,t.accept.invalid&&t.submitted,t.accept.valid&&t.submitted,t.submitted)),Z.xp6(2),Z.Q6J("ngClass",Z.WLB(28,me,t.accept.invalid&&t.submitted,t.accept.valid&&t.submitted)),Z.xp6(3),Z.Q6J("ngIf",t.submitted))},directives:[s.O5,f._Y,f.JL,f.sg,f.Fj,f.JJ,f.u,f.Q7,s.mk,f.on,f.Wl,f.Zs,E.BN],pipes:[s.Ov],encapsulation:2}),e}(),he=function(){var e=function(){function e(){r(this,e),this._controlEvent$=new d.xQ,this.controlEvent$=this._controlEvent$.asObservable()}return o(e,[{key:"click",value:function(e,t){this._controlEvent$.next(Object.assign(Object.assign({},t),{$event:e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Z.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),be=function(){var e=function(){function e(t){r(this,e),this.controls=t}return o(e,[{key:"onClose",value:function(e){console.log("Close function called")}},{key:"save",value:function(e){console.log("Save function called"),this.controls.click(e,{type:"save",text:"Save"})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Z.Y36(he))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["app-form-and-route-guard"]],features:[Z._Bn([q])],decls:7,vars:0,consts:[[1,"wizard-actions"],[1,"btn","btn-secondary","d-flex","justify-content-between",3,"click"],["icon","save",1,"ml-2"],[1,"wizard-main","col-12","col-lg","order-1","order-md-0","mr-lg-3"]],template:function(e,t){1&e&&(Z.TgZ(0,"wiz-wizard"),Z.TgZ(1,"div",0),Z.TgZ(2,"button",1),Z.NdJ("click",function(e){return t.save(e)}),Z._uU(3," Save "),Z._UZ(4,"fa-icon",2),Z.qZA(),Z.qZA(),Z.TgZ(5,"div",3),Z._UZ(6,"router-outlet"),Z.qZA(),Z.qZA())},directives:[c.Pl,E.BN,l.lC],encapsulation:2}),e}(),ye=function(){var e=function(){function e(t){r(this,e),this.stepService=t}return o(e,[{key:"canActivate",value:function(e,t){return this.stepService.getRoute(location.pathname,t.url)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Z.LFG(q))},e.\u0275prov=Z.Yz7({token:e,factory:e.\u0275fac}),e}(),xe=[{path:"",component:be,children:[{path:"",redirectTo:"introduction",pathMatch:"full"},{path:"introduction",component:j,data:{heading:"Introduction",pageHeading:"Wizard with protected steps"}},{path:"personal-details",component:ve,data:{heading:"Personal details",pageHeading:"Tell us a bit about yourself",controls:[{type:"prev"},{text:"Clear form",class:"btn-outline-danger",type:"cancel"},{type:"next"}]},canActivate:[ye]},{path:"account-details",component:D,data:{heading:"Account details",pageHeading:"Just a few more details"},canActivate:[ye],children:[{path:"",component:B},{path:"kyc",component:$,data:{heading:"KYC",pageHeading:"Trade experience",state:"info"}}]},{path:"confirmation",component:z,data:{heading:"Confirmation"},canActivate:[ye]},{path:"**",pathMatch:"full",redirectTo:"introduction"}]}],Ze=function(){var e=function e(){r(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Z.oAB({type:e}),e.\u0275inj=Z.cJS({imports:[[l.Bz.forChild(xe)],l.Bz]}),e}(),ke=function(){var e=function e(){r(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Z.oAB({type:e}),e.\u0275inj=Z.cJS({providers:[c.V9,q,ye],imports:[[s.ez,u.m,c.EZ.forRoot({markPassedAsSuccess:!1}),Ze]]}),e}()}}])}();